<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zen Desktop Aquarium</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: radial-gradient(circle, #1a4f63 0%, #051923 100%);
            font-family: 'Segoe UI', sans-serif;
        }

        #controls {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 12px;
            backdrop-filter: blur(5px);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        button {
            background: #00a8e8;
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        button:hover { background: #007ea7; }

        canvas { display: block; }
    </style>
</head>
<body>

    <div id="controls">
        <h3>Aquarium Settings</h3>
        <button onclick="toggleSpeed()">Toggle Feeding Time (Speed)</button>
        <p>Click anywhere to "scare" the fish!</p>
    </div>

    <canvas id="aquariumCanvas"></canvas>

    <script>
        const canvas = document.getElementById('aquariumCanvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let fishArray = [];
        let seaweedArray = [];
        let isFeedingTime = false;

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }

        window.addEventListener('resize', resize);
        resize();

        class Fish {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = 10 + Math.random() * 20;
                this.speed = (0.5 + Math.random() * 1.5);
                this.dx = Math.random() < 0.5 ? this.speed : -this.speed;
                this.dy = (Math.random() - 0.5) * 0.5;
                this.color = `hsl(${Math.random() * 360}, 70%, 60%)`;
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                if (this.dx < 0) ctx.scale(-1, 1);

                // Body
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size / 2, 0, 0, Math.PI * 2);
                ctx.fill();

                // Tail
                ctx.beginPath();
                ctx.moveTo(-this.size, 0);
                ctx.lineTo(-this.size - 10, -10);
                ctx.lineTo(-this.size - 10, 10);
                ctx.closePath();
                ctx.fill();

                // Eye
                ctx.fillStyle = "white";
                ctx.beginPath();
                ctx.arc(this.size / 2, -2, 3, 0, Math.PI * 2);
                ctx.fill();

                ctx.restore();
            }

            update() {
                const multiplier = isFeedingTime ? 4 : 1;
                this.x += this.dx * multiplier;
                this.y += this.dy * multiplier;

                // Bounce off walls
                if (this.x > width + 50 || this.x < -50) this.dx *= -1;
                if (this.y > height - 50 || this.y < 50) this.dy *= -1;
            }
        }

        class Seaweed {
            constructor(x) {
                this.x = x;
                this.height = 100 + Math.random() * 200;
                this.offset = Math.random() * 100;
            }

            draw(t) {
                ctx.strokeStyle = '#2d5a27';
                ctx.lineWidth = 8;
                ctx.lineCap = 'round';
                ctx.beginPath();
                ctx.moveTo(this.x, height);
                
                let sway = Math.sin(t / 500 + this.offset) * 20;
                ctx.bezierCurveTo(this.x, height - 50, this.x + sway, height - this.height / 2, this.x + sway, height - this.height);
                ctx.stroke();
            }
        }

        function drawRuins() {
            ctx.fillStyle = "#3d4043";
            // Simple Pillars (Ancient Ruins)
            ctx.fillRect(width * 0.2, height - 150, 30, 150);
            ctx.fillRect(width * 0.2 - 20, height - 170, 70, 20); // Capital
            
            ctx.fillRect(width * 0.7, height - 200, 40, 200);
            ctx.fillRect(width * 0.7 - 10, height - 220, 60, 20);
        }

        // Initialize
        for (let i = 0; i < 25; i++) fishArray.push(new Fish());
        for (let i = 0; i < 15; i++) seaweedArray.push(new Seaweed((width / 15) * i + Math.random() * 50));

        function animate(t) {
            ctx.clearRect(0, 0, width, height);
            
            // Draw background elements
            drawRuins();
            
            // Draw Seaweed
            seaweedArray.forEach(s => s.draw(t));

            // Draw Fish
            fishArray.forEach(f => {
                f.update();
                f.draw();
            });

            requestAnimationFrame(animate);
        }

        function toggleSpeed() {
            isFeedingTime = !isFeedingTime;
        }

        window.addEventListener('mousedown', (e) => {
            // Scare the fish away from click
            fishArray.forEach(f => {
                let diffX = f.x - e.clientX;
                if (Math.abs(diffX) < 200) f.dx = diffX > 0 ? 5 : -5;
            });
        });

        animate(0);
    </script>
</body>
</html>
